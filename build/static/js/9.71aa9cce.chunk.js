"use strict";(self.webpackChunkinter_component_communication=self.webpackChunkinter_component_communication||[]).push([[9],{41009:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(72791),l=n(80184);const a=e=>{const[t,n]=(0,r.useState)([]),a=(0,r.useRef)(null),c=(0,r.useRef)(null),o=new Date,[u,s]=(0,r.useState)(),i=(e,t)=>{console.log("creation request received");let n=[],r=e||0,l=t||60;for(;r<=24;r++){let e=0;for(;e<60;){let t=`${r<10?`0${r}`:r}:${e<10?`0${e}`:e}`;n.push(t),e+=l}}return n},d=()=>{console.log("slot updated"),a.current=a.current.filter((e=>+e.split(":")[0]>o.getHours())),e.date.getDate()===o.getDate()&&e.date.getMonth()===o.getMonth()||(n([...a.current]),clearInterval(f))},f=()=>{setInterval(d,e.duration?1e4*e.duration:1e5)};(0,r.useEffect)((()=>(s(),e.date.getDate()===o.getDate()&&e.date.getMonth()===o.getMonth()?(()=>{if(null===a.current){console.log(a.current);let t=i(o.getHours(),e.duration);a.current=t,f()}n([...a.current])})():(()=>{if(null===c.current){let t=i(0,e.duration);c.current=t}n([...c.current])})(),()=>{clearInterval(f)})),[e.date]);const m=()=>{let t=e.date.toString().split(" ").map(((e,t,n)=>4!==t?e:n[4]=u)).join(" ");e.update(t)};return(0,l.jsx)("div",{className:"timeSliceBody",children:t.map((e=>(0,l.jsxs)("div",{className:"timeList",children:[(0,l.jsx)("button",{className:u===`${e}:00`?"half marked":"full",onClick:()=>{s(`${e}:00`)},children:e}),u===`${e}:00`?(0,l.jsx)("button",{className:"half select",onClick:m,children:"Confirm"}):null]},e)))})}}}]);
//# sourceMappingURL=9.71aa9cce.chunk.js.map