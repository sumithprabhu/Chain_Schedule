(self.webpackChunkinter_component_communication=self.webpackChunkinter_component_communication||[]).push([[544],{77485:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});var r=t(72791),s=t(17993),c=(t(14329),t(80184));const a=e=>{const n=(0,r.useRef)(),t=(0,r.useRef)(),a=(0,r.useRef)(null),i=(0,r.useRef)(null),[l,u]=(0,r.useState)(!1),o=e=>{const{name:n,value:t}=e.target;switch(n){case"nameN":a.current=t;break;case"desc":i.current=t;break;default:return}};return(0,c.jsx)("div",{className:"confirmationBody",children:l?(0,c.jsxs)("div",{className:"BookingDetail",children:[(0,c.jsx)("h3",{children:"Booking Details"}),(0,c.jsxs)("h4",{children:[(0,c.jsx)("strong",{children:"date"}),":",(0,c.jsx)("em",{children:e.date})]}),(0,c.jsxs)("h4",{children:[(0,c.jsx)("strong",{children:"name"}),":",(0,c.jsx)("em",{children:a.current})]}),i.current?(0,c.jsxs)("h4",{children:["desc: ",i.current]}):null]}):(0,c.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!a.current)return alert("Name field is manfatory"),void n.current.focus();console.log(`name:${a.current} \n date:${e.date}\n desc:${i.current}`),u(!0)},children:[(0,c.jsx)("h2",{children:"Enter details"}),(0,c.jsxs)("label",{children:["Name*",(0,c.jsx)("br",{}),(0,c.jsx)("input",{type:"text",onChange:o,name:"nameN",ref:n,required:!0})]}),(0,c.jsx)("br",{}),(0,c.jsxs)("label",{children:["Description",(0,c.jsx)("br",{}),(0,c.jsx)("textarea",{onChange:o,cols:40,name:"desc",rows:5,ref:t})]}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{className:"formButton",type:"submit",onClick:async()=>{const n=e.sig,t=await s.user.get({account:`eip155:${e.currentAccount}`,env:"staging"}),r=await s.chat.decryptPGPKey({encryptedPGPPrivateKey:t.encryptedPrivateKey,signer:n,env:"staging"});await s.chat.send({messageContent:`Request to schedule meet\nTime:${e.date}\nName:${a.current}\nDescription:${i.current}`,messageType:"Text",receiverAddress:`eip155:${e.id}`,signer:n,pgpPrivateKey:r,env:"staging"})},children:"Schedule"}),(0,c.jsx)("button",{className:"formButton",onClick:e.back,children:"Back"})]})})}},993:()=>{},42480:()=>{},24654:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=544.1d41baf2.chunk.js.map