(self.webpackChunkinter_component_communication=self.webpackChunkinter_component_communication||[]).push([[544],{77485:function(e,n,t){"use strict";t.r(n);var r=t(74165),c=t(15861),s=t(29439),a=t(72791),i=t(17993),u=(t(14329),t(80184));n.default=function(e){var n=(0,a.useRef)(),t=(0,a.useRef)(),o=(0,a.useRef)(null),l=(0,a.useRef)(null),d=(0,a.useState)(!1),f=(0,s.Z)(d,2),m=f[0],h=f[1],x=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"nameN":o.current=r;break;case"desc":l.current=r;break;default:return}},p=function(){var n=(0,c.Z)((0,r.Z)().mark((function n(){var t,c,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.sig,n.next=3,i.user.get({account:"eip155:".concat(e.currentAccount),env:"staging"});case 3:return c=n.sent,n.next=6,i.chat.decryptPGPKey({encryptedPGPPrivateKey:c.encryptedPrivateKey,signer:t,env:"staging"});case 6:return s=n.sent,n.next=9,i.chat.send({messageContent:"Request to schedule meet\nTime:".concat(e.date,"\nName:").concat(o.current,"\nDescription:").concat(l.current),messageType:"Text",receiverAddress:"eip155:".concat(e.id),signer:t,pgpPrivateKey:s,env:"staging"});case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,u.jsx)("div",{className:"confirmationBody",children:m?(0,u.jsxs)("div",{className:"BookingDetail",children:[(0,u.jsx)("h3",{children:"Booking Details"}),(0,u.jsxs)("h4",{children:[(0,u.jsx)("strong",{children:"date"}),":",(0,u.jsx)("em",{children:e.date})]}),(0,u.jsxs)("h4",{children:[(0,u.jsx)("strong",{children:"name"}),":",(0,u.jsx)("em",{children:o.current})]}),l.current?(0,u.jsxs)("h4",{children:["desc: ",l.current]}):null]}):(0,u.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),!o.current)return alert("Name field is manfatory"),void n.current.focus();console.log("name:".concat(o.current," \n date:").concat(e.date,"\n desc:").concat(l.current)),h(!0)},children:[(0,u.jsx)("h2",{children:"Enter details"}),(0,u.jsxs)("label",{children:["Name*",(0,u.jsx)("br",{}),(0,u.jsx)("input",{type:"text",onChange:x,name:"nameN",ref:n,required:!0})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["Description",(0,u.jsx)("br",{}),(0,u.jsx)("textarea",{onChange:x,cols:40,name:"desc",rows:5,ref:t})]}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{className:"formButton",type:"submit",onClick:p,children:"Schedule"}),(0,u.jsx)("button",{className:"formButton",onClick:e.back,children:"Back"})]})})}},993:function(){},42480:function(){},24654:function(){},52361:function(){},94616:function(){},55024:function(){}}]);
//# sourceMappingURL=544.880b969d.chunk.js.map